{"version":3,"sources":["js/filtros.js"],"names":["filtros","document","querySelectorAll","buscarTitulo","buscarAutor","buscarPrecio","botones","botonBuscar","botonClear","input","inputTitulo","inputAutor","inputTematica","p","pl","libros","getLibrosFilter","librosFiltrados","aux","value","forEach","libro","splt","outerHTML","split","toLowerCase","includes","push","console","log","length","reset","style","display","addEventListener","event","textContent","preventDefault","element"],"mappings":";AAAA,IAAIA,EAAUC,SAASC,iBAAiB,SACpCC,EAAeH,EAAQ,GACvBI,EAAcJ,EAAQ,GACtBK,EAAeL,EAAQ,GAEvBM,EAAUL,SAASC,iBAAiB,UACpCK,EAAcD,EAAQ,GACtBE,EAAaF,EAAQ,GAErBG,EAAQR,SAASC,iBAAiB,SAClCQ,EAAcD,EAAM,GACpBE,EAAaF,EAAM,GACnBG,EAAgBH,EAAM,GAEtBI,EAAIZ,SAASC,iBAAiB,KAC9BY,EAAKD,EAAE,GAEPE,EAASd,SAASC,iBAAiB,WAEvC,SAASc,IACDC,IAAAA,EAAkB,GAClBC,EAAM,GAuDHD,MApDiB,IAApBN,EAAWQ,OAEXJ,EAAOK,QAAQ,SAAAC,GACPC,IAAAA,EAAOD,EAAME,UAAUC,MAAM,gBACjCF,EAAOA,EAAK,GAAGE,MAAM,SACZ,GAAGC,cAAcC,SAASf,EAAWQ,MAAMM,iBAChDR,EAAgBU,KAAKN,GACrBO,QAAQC,IAAIR,MAMC,IAArBX,EAAYS,QAEZD,EAAM,GAEFD,EAAgBa,OAAS,GACzBZ,EAAMD,EACNA,EAAkB,IAElBC,EAAMH,EAGVG,EAAIE,QAAQ,SAAAC,GACJC,IAAAA,EAAOD,EAAME,UAAUC,MAAM,SACjCF,EAAOA,EAAK,GAAGE,MAAM,UACZ,GAAGC,cAAcC,SAAShB,EAAYS,MAAMM,gBACjDR,EAAgBU,KAAKN,MAMN,IAAvBT,EAAcO,QAEdD,EAAM,GAEFD,EAAgBa,OAAS,GACzBZ,EAAMD,EACNA,EAAkB,IAElBC,EAAMH,EAEVG,EAAIE,QAAQ,SAAAC,GACJC,IAAAA,EAAOD,EAAME,UAAUC,MAAM,mBACjCF,EAAOA,EAAK,GAAGE,MAAM,SACZ,GAAGC,cAAcC,SAASd,EAAcO,MAAMM,gBACnDR,EAAgBU,KAAKN,MAI1BJ,EAGX,SAASc,IACLhB,EAAOK,QAAQ,SAAAC,GACXA,EAAMW,MAAMC,QAAU,SAK9B1B,EAAY2B,iBAAiB,QAAS,SAAAC,GAClCJ,IACId,IAAAA,EAAkBD,IAElBC,EAAgBa,OAAS,GACzBhB,EAAGsB,YAAc,GACjBnB,EAAgBG,QAAQ,SAAAC,GACpBA,EAAMW,MAAMC,QAAU,MAG1BnB,EAAGsB,YAAc,kEAErBD,EAAME,mBAGV7B,EAAW0B,iBAAiB,QAAS,SAAAC,GACjCJ,IACAtB,EAAMW,QAAQ,SAAAkB,GACVA,EAAQnB,MAAQ,KAEpBL,EAAGsB,YAAc,iFACjBD,EAAME","file":"filtros.a4ccb695.js","sourceRoot":"..","sourcesContent":["var filtros = document.querySelectorAll('input');\nvar buscarTitulo = filtros[0];\nvar buscarAutor = filtros[1];\nvar buscarPrecio = filtros[2];\n\nvar botones = document.querySelectorAll('button');\nvar botonBuscar = botones[0];\nvar botonClear = botones[1];\n\nvar input = document.querySelectorAll('input');\nvar inputTitulo = input[0];\nvar inputAutor = input[1];\nvar inputTematica = input[2];\n\nvar p = document.querySelectorAll('p');\nvar pl = p[3];\n\nvar libros = document.querySelectorAll('section');\n\nfunction getLibrosFilter() {\n    var librosFiltrados = [];\n    var aux = [];\n\n    //Filtro por Autor\n    if (inputAutor.value != '') {\n        //console.log(\"Autro: \", inputAutor.value);\n        libros.forEach(libro => {\n            var splt = libro.outerHTML.split(\"Autor:</b> \");\n            splt = splt[1].split(\"</p>\");\n            if (splt[0].toLowerCase().includes(inputAutor.value.toLowerCase())) {\n                librosFiltrados.push(libro);\n                console.log(libro);\n            }\n        });\n    }\n\n    //Filtramos por Título\n    if (inputTitulo.value != '') {\n        //console.log(\"Titulo: \", inputTitulo.value);\n        aux = [];\n        //Si ya hemos filtrado  antes\n        if (librosFiltrados.length > 0) {\n            aux = librosFiltrados;\n            librosFiltrados = [];\n        } else {\n            aux = libros;\n        }\n\n        aux.forEach(libro => {\n            var splt = libro.outerHTML.split(\"<h1>\");\n            splt = splt[1].split(\"</h1>\");\n            if (splt[0].toLowerCase().includes(inputTitulo.value.toLowerCase())) {\n                librosFiltrados.push(libro);\n            }\n        });\n    }\n\n    //Filtramos por Temática\n    if (inputTematica.value != '') {\n        //console.log(\"Temática: \", inputTematica.value);\n        aux = [];\n        //Si hemos filtrado ya antes\n        if (librosFiltrados.length > 0) {\n            aux = librosFiltrados;\n            librosFiltrados = [];\n        } else {\n            aux = libros;\n        }\n        aux.forEach(libro => {\n            var splt = libro.outerHTML.split(\"Temática:</b> \");\n            splt = splt[1].split(\"</p>\");\n            if (splt[0].toLowerCase().includes(inputTematica.value.toLowerCase())) {\n                librosFiltrados.push(libro);\n            }\n        });\n    }\n    return librosFiltrados;\n}\n\nfunction reset() {\n    libros.forEach(libro => {\n        libro.style.display = 'none';\n    });\n\n}\n\nbotonBuscar.addEventListener(\"click\", event => {\n    reset();\n    var librosFiltrados = getLibrosFilter();\n\n    if (librosFiltrados.length > 0) {\n        pl.textContent = '';\n        librosFiltrados.forEach(libro => {\n            libro.style.display = '';\n        });\n    } else {\n        pl.textContent = 'Lo siento, no se ha encontrado ningún libro con esos filtros :(';\n    }\n    event.preventDefault();\n});\n\nbotonClear.addEventListener(\"click\", event => {\n    reset();\n    input.forEach(element => {\n        element.value = '';\n    });\n    pl.textContent = '¿Quiere buscar algún libro en concreto? Filtra por su título, autor o temática';\n    event.preventDefault();\n\n});\n"]}